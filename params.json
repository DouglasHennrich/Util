{"name":"Util","tagline":"Códigos úteis","body":"# Util\r\nCódigos úteis\r\n\r\n```javascript\r\nvar fb = Alloy.Globals.FB;\r\n\r\n/*\r\n@ Refresh Permissions\r\n*/\r\nfb.addEventListener('tokenUpdated', function(e) {\r\n    console.log('Updated permissions: ' + JSON.stringify(fb.permissions));\r\n});\r\n\r\n/*\r\n@ Login Listener\r\n*/\r\nfb.addEventListener('login',function(event){\r\n    if( event.success ){\r\n        console.log('login data: ', event.data);\r\n        console.log('\\n===================\\n');\r\n        console.log('login UID: ', event.uid);\r\n\r\n        // Refresh Permissions if changed\r\n        fb.refreshPermissionsFromServer();\r\n\r\n        //\r\n        goMain(JSON.parse(event.data));\r\n\r\n    }else{\r\n        console.log('Login Fail: ', event.error);\r\n    }\r\n});\r\n\r\n/*\r\n@ goMain\r\n*/\r\nfunction goMain(_user){\r\n    Alloy.createController('main',{\r\n        user : _user\r\n    })\r\n     .getView()\r\n      .open();\r\n};\r\n\r\nif (OS_ANDROID) {\r\n    $.index.fbProxy = Alloy.Globals.Facebook.createActivityWorker({lifecycleContainer: $.index});\r\n}\r\n\r\n\r\nif( fb.loggedIn ){\r\n    console.log('Initialize');\r\n    fb.authorize();\r\n\r\n}else{\r\n    Alloy.createController('login')\r\n     .getView()\r\n      .open();\r\n}\r\n\r\n/*\r\n@\r\n*/\r\n/*\r\n@\r\n*/\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}